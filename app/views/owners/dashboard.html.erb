<%= render 'shared/branding' %>

<div class="container py-4">
  <div class="row mb-4 g-2">
    <div class="col">
      <%= link_to 'Gestión de clientes', user_clients_path(current_user), class: 'btn btn-primary w-100' %>
    </div>
    <div class="col">
      <%= link_to 'Data Collections', data_collections_path, class: 'btn btn-primary w-100' %>
    </div>
    <div class="col">
      <%= link_to 'Documents', documents_path, class: 'btn btn-primary w-100' %>
    </div>
    <div class="col">
      <%= link_to 'Summaries', summaries_path, class: 'btn btn-primary w-100' %>
    </div>
    <div class="col">
      <%= link_to 'Policy Analyses', policy_analyses_path, class: 'btn btn-primary w-100' %>
    </div>
  </div>

  <section>
    <h2 class="h3 mb-3">Clientes</h2>
    <table class="table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th class="text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% current_user.clients.each do |client| %>
          <tr>
            <td><%= client.name %></td>
            <td class="text-center">
              <%= link_to 'Revocar', user_client_path(current_user, client), method: :delete, data: { confirm: '¿Estás seguro?' }, class: 'btn btn-outline-danger btn-sm' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <% if current_user.can_add_client? %>
      <div class="mt-3">
        <%= link_to 'Nuevo cliente', new_user_client_path(current_user), class: 'btn btn-success' %>
      </div>
    <% end %>
  </section>
</div>